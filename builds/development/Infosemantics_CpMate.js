!function(){if(!window.unitTests){window.X={version:"0.0.1",build:"275"};var l={},t=[];X.registerModule=function(e,t,n){var a,r,i,o=!0;function c(e){return l[e]={subordinates:{},instantiated:!1},l[e]}function s(e,t){l[e].subordinates[t]=l[t],o=!1}if("function"==typeof t?(n=t,t=[]):"string"==typeof t&&(t=[t]),l[e]){if(void 0!==l[e].dependencies)throw Error("Tried to register two modules under the name: "+e)}else c(e);(a=l[e]).dependencies=t,a.moduleConstructor=n;for(var d=0;d<a.dependencies.length;d+=1){if(r=a.dependencies[d],i=l[r],r===e)throw new Error("Can't set up a module as a dependency of itself");i?i.instantiated||s(r,e):(i=c(r),s(r,e))}o&&u(e)},window.addEventListener("load",function(){!function(){for(var e=0;e<t.length;e+=1)u(t[e]);t=[]}(),function(){var e;for(var t in l)if(l.hasOwnProperty(t)&&(e=l[t]).onLoadCallback)try{e.onLoadCallback()}catch(e){console.error("Encountered error at module: "+t+"<br/>Details: <br/>"+e)}}()})}function u(e){var t,n,a=l[e];for(var r in a.onLoadCallback=a.moduleConstructor(),a.instantiated=!0,a.subordinates)if(a.subordinates.hasOwnProperty(r)){if((t=l[r]).instantiated)continue;n=!0;for(var i=0;i<t.dependencies.length;i+=1)if(!l[t.dependencies[i]].instantiated){n=!1;break}n&&u(r)}}}(),X.registerModule("elements/animate",function(){"use strict";var t,n=[];X.animate={callWhenLoaded:function(e){window.hasOwnProperty("stage")?e():(n.push(e),t||(t=window.setInterval(function(){if(window.stage){window.clearInterval(t);for(var e=0;e<n.length;e+=1)n[e]();n=null}},10)))}},X.animate.callWhenLoaded(function(){X.animate.mainTimeline=stage.children[0]})}),X.registerModule("elements/captivate",["managers/debugging/logging"],function(){var e="1.4.2";X.captivate={isLoaded:function(){return window.parent.hasOwnProperty("cp")},hasCpExtra:function(){return!!X.captivate.window&&X.captivate.window.hasOwnProperty("_extra")},window:null,base:null,extra:null},X.captivate.isLoaded()&&(X.captivate.window=window.parent,X.captivate.base=X.captivate.window.cp,X.captivate.alert=X.captivate.window.alert,X.captivate.hasCpExtra()?(X.captivate.extra={},X.captivate.extra=X.captivate.window._extra,X.captivate.extraPublicInterface=X.captivate.window.X,X.captivate.extraVersion=X.captivate.extraPublicInterface.version,X.captivate.extraVersion<e&&X.error("GE002",X.captivate.extraVersion,e)):X.error("GE001"))}),X.registerModule("elements/slideObject",["elements/captivate"],function(){X.captivate.isLoaded()&&(X.slideObject={},X.slideObject.iframe=window.frameElement,X.slideObject.div=function(e,t,n){for(;e.parentElement;){if(e.getAttribute(t)===n)return e;e=e.parentElement}return null}(X.slideObject.iframe,"class","cp-frameset"),X.slideObject.name=X.slideObject.div.getAttribute("id"))}),X.registerModule("managers/cpExtraActions",["elements/captivate","elements/slideObject"],function(){"use strict";var n={};X.captivate&&X.captivate.extra&&(X.captivate.extra.cpMate.register(X.slideObject.name,function(e){e.action&&e.parameters?n.hasOwnProperty(e.action)?n[e.action].apply(null,e.parameters):X.error("Tried to enact CpMate action '"+e.action+"'. However, no such action was defined in CpMate."):X.error("When broadcasting an action to CpMate an action or parameter was not defined")}),X.cpExtraActions={register:function(e,t){n[e]=t},unload:function(){X.captivate.extra.cpMate.deregister(X.slideObject.name)}})}),X.registerModule("managers/preferences",function(){function a(){}return X.preferences={define:function(t){var n,e=function(e){n!==e&&(n=e,t.method(n))};Object.defineProperty(a.prototype,t.name,{get:function(){return n},set:e}),t.default&&e(t.default)}},function(){X.preferences=new a}}),X.registerModule("preferences/disableIFrameBorder",["managers/preferences","elements/slideObject"],function(){X.preferences.define({name:"disableIFrameBorder",method:function(e){X.captivate.isLoaded()&&(X.slideObject.div.style.border=e?"0px":"1px")},default:!0})}),X.registerModule("gotoFrameLabel",["managers/cpExtraActions"],function(){"use strict";X.cpExtraActions&&X.cpExtraActions.register("gotoFrameLabel",function(e){var t,n=X.animate.mainTimeline.labels;e=e.toString();for(var a=0;a<n.length;a+=1)if((t=n[a]).label===e)return void X.animate.mainTimeline.gotoAndPlay(t.position)})}),X.registerModule("managers/actions/unload",["managers/cpExtraActions"],function(){"use strict";X.cpExtraActions.register("unload",function(){X.cpExtraActions.unload()})}),X.registerModule("managers/debugging/errors",function(){X.errors={GE001:function(){return"You have not loaded CpExtra into Captivate. CpMate cannot work if CpExtra is not installed in Captivate. Either install CpExtra or remove CpMate."},GE002:function(e,t){return"CPEXTRA NEEDS TO BE UPGRADED. The current version of CpExtra is "+e+". But the minimum version of CpExtra needed to work with CpMate is "+t+". PLEASE UPGRADE CPEXTRA NOW."}}}),X.registerModule("managers/debugging/logging",["managers/debugging/errors"],function(){X.log=function(e){console.log(e)},X.alert=function(e,t){X.captivate.isLoaded()?X.captivate.alert(e,t):alert(e)},X.error=function(e,t){var n="CpMate Error";if(X.errors.hasOwnProperty(e)){var a=Array.prototype.slice.call(arguments);a.splice(0,1),t=X.errors[e].apply(this,a),n+=": "+e}else t=e;X.alert(t,n)}});